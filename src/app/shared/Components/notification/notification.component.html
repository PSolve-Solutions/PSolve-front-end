<!-- [ngClass]="isOpen ? 'translate-x-0 right-6 ' : 'translate-x-full'" -->
<!-- [ngClass]="isOpen ? 'scale-100 z-[1200] ' : 'scale-0'" -->
<div
  class="absolute z-[5500] right-6 transition-all ps-4 pe-2 duration-500 ease-linear max-w-[480px] w-[480px] overflow-y-hidden 2xl:w-3.5/12 rounded-lg bg-white shadow-2xl notification-shadow"
  [ngClass]="isOpen ? 'h-[600px] pb-6  z-[1200] ' : 'h-0'"
>
  <div class="flex items-center justify-between pt-6">
    <p
      class="relative z-50 text-2xl font-bold leading-6 text-gray-800 ps-2 md:text-3xl focus:outline-none"
    >
      Notifications
    </p>
  </div>
  <div
    class="relative z-50 flex items-center justify-center mt-6 mb-4 space-x-4"
  >
    <label class="relative inline-flex items-center cursor-pointer">
      <input
        type="checkbox"
        class="sr-only"
        [checked]="isRead"
        (click)="toggleIsRead()"
      />

      <div
        class="flex items-center justify-between px-6 py-1.5 bg-[#F4F4F4] font-semibold transition-colors duration-300 border rounded-full w-44"
      >
        <span class="font-semibold"> All </span>
        <span class="font-semibold"> New </span>
      </div>

      <!-- Toggle Circle -->

      <div
        class="absolute w-[75px] h-full flex items-center justify-center transition-all duration-300 transform rounded-full bg-activeLink"
        [class.translate-x-[100px]]="!isRead"
        (click)="toggleIsRead()"
      >
        @if (isRead) {
        <span [ngClass]="isRead ? 'text-white' : 'text-black'"> All </span>
        }@else {
        <span [ngClass]="!isRead ? 'text-white' : 'text-black'"> New </span>

        }
      </div>
    </label>
  </div>
  @if( isLoading && !isRead && allNotification.length === 0) {
  <div class="absolute z-0 top-[40%] left-[45%] bg-opacity-60">
    <div class="flex items-center">
      <div
        class="w-16 h-16 border-8 border-blue-600 border-dashed rounded-full animate-spin"
      ></div>
    </div>
  </div>
  }@else {
  <div
    (scroll)="onScroll($event)"
    style="height: calc(100% - 140px)"
    class="w-full overflow-y-auto pe-3 rounded-xl scroll-host-table"
  >
    @for (items of allNotification; track $index) { @for (i of items.data; track
    i.id) {
    <div
      [ngClass]="returnTheColor(i.type, i.isRead)"
      (click)="markasRead(i.id, i.type, i.isRead)"
      class="w-full p-3 mt-2 transition-transform duration-500 cursor-pointer hover:scale-95 rounded-xl"
    >
      <div class="flex items-center justify-between">
        @switch (i.type) { @case (0) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.144 7.24731L18.774 20.7773C18.534 21.7873 17.634 22.4873 16.594 22.4873H3.454C1.944 22.4873 0.864013 21.0073 1.31401 19.5573L5.524 6.03735C5.814 5.09735 6.68402 4.44727 7.66402 4.44727H19.964C20.914 4.44727 21.704 5.02727 22.034 5.82727C22.224 6.25727 22.264 6.74731 22.144 7.24731Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
              />
              <path
                d="M16.2109 22.4873H20.9909C22.2809 22.4873 23.2909 21.3973 23.2009 20.1073L22.2109 6.4873"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.89062 6.86682L10.9306 2.54688"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M16.5938 6.87708L17.5338 2.53711"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M7.91406 12.4873H15.9141"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6.91406 16.4873H14.9141"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Task added.</h3>
        </div>
        } @case (1) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12.0625 16.5V11.5"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M14.5 14H9.5"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M22 11V17C22 21 21 22 17 22H7C3 22 2 21 2 17V7C2 3 3 2 7 2H8.5C10 2 10.33 2.44 10.9 3.2L12.4 5.2C12.78 5.7 13 6 14 6H17C21 6 22 7 22 11Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Sheet added.</h3>
        </div>
        } @case (2) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 19.5H21"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M11 12.5H21"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M11 5.5H21"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3 5.5L4 6.5L7 3.5"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3 12.5L4 13.5L7 10.5"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3 19.5L4 20.5L7 17.5"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Contest added.</h3>
        </div>
        } @case (3) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="22"
              height="22"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M20.75 13.25C20.75 18.08 16.83 22 12 22C7.17 22 3.25 18.08 3.25 13.25C3.25 8.42 7.17 4.5 12 4.5C16.83 4.5 20.75 8.42 20.75 13.25Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M12 8V13"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9 2H15"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Practice added.</h3>
        </div>
        } @case (4) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.144 7.24731L18.774 20.7773C18.534 21.7873 17.634 22.4873 16.594 22.4873H3.454C1.944 22.4873 0.864013 21.0073 1.31401 19.5573L5.524 6.03735C5.814 5.09735 6.68402 4.44727 7.66402 4.44727H19.964C20.914 4.44727 21.704 5.02727 22.034 5.82727C22.224 6.25727 22.264 6.74731 22.144 7.24731Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
              />
              <path
                d="M16.2109 22.4873H20.9909C22.2809 22.4873 23.2909 21.3973 23.2009 20.1073L22.2109 6.4873"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.89062 6.86682L10.9306 2.54688"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M16.5938 6.87708L17.5338 2.53711"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M7.91406 12.4873H15.9141"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6.91406 16.4873H14.9141"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Task status changed.</h3>
        </div>
        } @case (5) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4.25781 11.0204V15.9904C4.25781 17.8104 4.25781 17.8104 5.97781 18.9704L10.7078 21.7004C11.4178 22.1104 12.5778 22.1104 13.2878 21.7004L18.0178 18.9704C19.7378 17.8104 19.7378 17.8104 19.7378 15.9904V11.0204C19.7378 9.20043 19.7378 9.20043 18.0178 8.04043L13.2878 5.31043C12.5778 4.90043 11.4178 4.90043 10.7078 5.31043L5.97781 8.04043C4.25781 9.20043 4.25781 9.20043 4.25781 11.0204Z"
                stroke="#28A745"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M17.5 7.63V5C17.5 3 16.5 2 14.5 2H9.5C7.5 2 6.5 3 6.5 5V7.56"
                stroke="#28A745"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M12.6317 10.99L13.2017 11.88C13.2917 12.02 13.4917 12.16 13.6417 12.2L14.6617 12.46C15.2917 12.62 15.4617 13.16 15.0517 13.66L14.3817 14.47C14.2817 14.6 14.2017 14.83 14.2117 14.99L14.2717 16.04C14.3117 16.69 13.8517 17.02 13.2517 16.78L12.2717 16.39C12.1217 16.33 11.8717 16.33 11.7217 16.39L10.7417 16.78C10.1417 17.02 9.68173 16.68 9.72173 16.04L9.78173 14.99C9.79173 14.83 9.71173 14.59 9.61173 14.47L8.94173 13.66C8.53173 13.16 8.70173 12.62 9.33173 12.46L10.3517 12.2C10.5117 12.16 10.7117 12.01 10.7917 11.88L11.3617 10.99C11.7217 10.45 12.2817 10.45 12.6317 10.99Z"
                stroke="#28A745"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Auto update contest standing.</h3>
        </div>
        } @case (6) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="21"
              height="21"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3.40625 22C3.40625 18.13 7.25625 15 11.9962 15C12.9562 15 13.8863 15.13 14.7563 15.37"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M22 18C22 18.32 21.96 18.63 21.88 18.93C21.79 19.33 21.63 19.72 21.42 20.06C20.73 21.22 19.46 22 18 22C16.97 22 16.04 21.61 15.34 20.97C15.04 20.71 14.78 20.4 14.58 20.06C14.21 19.46 14 18.75 14 18C14 16.92 14.43 15.93 15.13 15.21C15.86 14.46 16.88 14 18 14C19.18 14 20.25 14.51 20.97 15.33C21.61 16.04 22 16.98 22 18Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M19.4878 17.9795H16.5078"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M18 16.5195V19.5095"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">New role added.</h3>
        </div>
        } @case (7) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#f6c7cb] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17.4375 14.62L19.9975 12.06L17.4375 9.5"
                stroke="#DC3545"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.75781 12.0596H19.9278"
                stroke="#DC3545"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M11.7578 20C7.33781 20 3.75781 17 3.75781 12C3.75781 7 7.33781 4 11.7578 4"
                stroke="#DC3545"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Trainee kicked out.</h3>
        </div>
        } @case (8) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14.4297 5.92969L20.4997 11.9997L14.4297 18.0697"
                stroke="#CCA827"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3.5 12H20.33"
                stroke="#CCA827"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Top contest ranking.</h3>
        </div>
        } @case (9) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.144 7.24731L18.774 20.7773C18.534 21.7873 17.634 22.4873 16.594 22.4873H3.454C1.944 22.4873 0.864013 21.0073 1.31401 19.5573L5.524 6.03735C5.814 5.09735 6.68402 4.44727 7.66402 4.44727H19.964C20.914 4.44727 21.704 5.02727 22.034 5.82727C22.224 6.25727 22.264 6.74731 22.144 7.24731Z"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
              />
              <path
                d="M16.2109 22.4873H20.9909C22.2809 22.4873 23.2909 21.3973 23.2009 20.1073L22.2109 6.4873"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.89062 6.86682L10.9306 2.54688"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M16.5938 6.87708L17.5338 2.53711"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M7.91406 12.4873H15.9141"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6.91406 16.4873H14.9141"
                stroke="#3D91C7"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Update practice.</h3>
        </div>
        } @case (10) {
        <div class="flex items-center gap-x-2">
          <div
            role="img"
            class="flex items-center justify-center w-9 h-9 border bg-[#c9e1f0] rounded-lg px-1 focus:outline-none"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M21 7V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V7C3 4 4.5 2 8 2H16C19.5 2 21 4 21 7Z"
                stroke="#CCA827"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M15.5 2V9.85999C15.5 10.3 14.98 10.52 14.66 10.23L12.34 8.09003C12.15 7.91003 11.85 7.91003 11.66 8.09003L9.34003 10.23C9.02003 10.52 8.5 10.3 8.5 9.85999V2H15.5Z"
                stroke="#CCA827"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M13.25 14H17.5"
                stroke="#CCA827"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9 18H17.5"
                stroke="#CCA827"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="text-base font-semibold">Minimum solving percent.</h3>
        </div>
        } }

        <p class="pt-1 text-xs leading-3 text-gray-500 focus:outline-none">
          {{ calculateTimeFromNow(i.creationDate) }}
        </p>
      </div>
      <p
        class="w-full pl-12 text-sm text-gray-400 leading-[1.5] focus:outline-none"
        [innerHTML]="i.message"
      ></p>
    </div>
    }}
  </div>
  @if (isLoading) { @if (allNotification.length !== 0) {
  <div class="flex items-center justify-center w-full bg-opacity-60">
    <div class="flex items-center justify-center">
      <div
        class="w-8 h-8 border-4 border-blue-600 border-dashed rounded-full animate-spin"
      ></div>
    </div>
  </div>
  } } }
</div>
