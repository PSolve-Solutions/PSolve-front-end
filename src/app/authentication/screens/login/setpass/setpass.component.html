<div
  class="flex flex-col justify-start w-full h-full mt-20 font-montserrat md:ps-6 md:pe-8"
>
  <div class="flex flex-col mb-6 w-fit">
    <h1 class="text-xl font-extrabold md:text-3xl text-mainColor1">
      Reset your password
    </h1>
  </div>
  <form
    [formGroup]="passwordForm"
    (ngSubmit)="onSubmit()"
    class="flex flex-col w-full gap-3 mt-3"
  >
    <div
      class="border relative focus:outline-0 border-[#e1e4e4] rounded-xl text-mainColor1 font-semibold bg-[#eef3f3] py-4 px-6 text-lg"
    >
      <input
        [type]="passwordFieldType"
        autocomplete="new-password"
        name="password"
        formControlName="password"
        type="password"
        placeholder="Password"
        class="w-full bg-transparent focus:outline-none"
      />
      <button
        type="button"
        class="absolute p-1.5 rounded-full top-3 right-3"
        (click)="togglePasswordVisibility(0)"
      >
        @if (passwordFieldType === 'password' ) {
        <svg
          width="18"
          height="19"
          viewBox="0 0 18 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.0276 12.805C15.9633 12.8416 15.8925 12.8652 15.8191 12.8745C15.7457 12.8837 15.6712 12.8784 15.5999 12.8588C15.5286 12.8392 15.4618 12.8057 15.4035 12.7603C15.3451 12.7149 15.2963 12.6584 15.2597 12.5941L13.9238 10.2597C13.1471 10.7848 12.2904 11.1805 11.3869 11.4311L11.7997 13.9075C11.8118 13.9804 11.8095 14.055 11.7929 14.127C11.7762 14.199 11.7455 14.267 11.7025 14.3272C11.6596 14.3873 11.6052 14.4384 11.5425 14.4775C11.4797 14.5166 11.4099 14.543 11.337 14.5551C11.307 14.56 11.2767 14.5626 11.2463 14.5628C11.1132 14.5626 10.9845 14.5152 10.8831 14.4291C10.7817 14.343 10.714 14.2237 10.6922 14.0924L10.2865 11.661C9.43097 11.7801 8.56304 11.7801 7.70747 11.661L7.30177 14.0924C7.27994 14.2239 7.21211 14.3434 7.11038 14.4296C7.00864 14.5157 6.87961 14.563 6.7463 14.5628C6.71521 14.5627 6.68418 14.5601 6.65349 14.5551C6.58057 14.543 6.51076 14.5166 6.44804 14.4775C6.38532 14.4384 6.33092 14.3873 6.28795 14.3272C6.24499 14.267 6.21429 14.199 6.19763 14.127C6.18096 14.055 6.17866 13.9804 6.19083 13.9075L6.60568 11.4311C5.7026 11.1797 4.84632 10.7833 4.07021 10.2576L2.73849 12.5941C2.70156 12.6584 2.65231 12.7149 2.59355 12.7602C2.5348 12.8055 2.4677 12.8388 2.39608 12.8582C2.32445 12.8776 2.24971 12.8827 2.17612 12.8732C2.10252 12.8637 2.03152 12.8398 1.96716 12.8029C1.9028 12.766 1.84635 12.7167 1.80103 12.658C1.7557 12.5992 1.72239 12.5321 1.703 12.4605C1.68361 12.3889 1.67851 12.3141 1.68801 12.2405C1.6975 12.1669 1.7214 12.0959 1.75833 12.0316L3.16458 9.57063C2.67064 9.14389 2.21643 8.67321 1.80755 8.16438C1.75656 8.10745 1.71771 8.04072 1.69336 7.96827C1.66902 7.89582 1.65969 7.81917 1.66595 7.743C1.67222 7.66683 1.69394 7.59273 1.72979 7.52523C1.76565 7.45773 1.81488 7.39825 1.87449 7.35041C1.93409 7.30257 2.00282 7.26738 2.07648 7.24699C2.15014 7.2266 2.22718 7.22143 2.30291 7.2318C2.37863 7.24218 2.45144 7.26787 2.5169 7.30732C2.58237 7.34677 2.6391 7.39915 2.68365 7.46126C3.85083 8.90547 5.89271 10.6253 8.9963 10.6253C12.0999 10.6253 14.1418 8.90336 15.309 7.46126C15.353 7.39788 15.4096 7.34424 15.4753 7.30368C15.5409 7.26312 15.6142 7.2365 15.6906 7.22549C15.767 7.21447 15.8448 7.21929 15.9193 7.23965C15.9937 7.26 16.0632 7.29546 16.1233 7.34381C16.1835 7.39217 16.233 7.45238 16.2689 7.52071C16.3048 7.58903 16.3262 7.66401 16.3319 7.74098C16.3375 7.81795 16.3273 7.89526 16.3018 7.9681C16.2763 8.04094 16.2361 8.10775 16.1836 8.16438C15.7748 8.67321 15.3206 9.14389 14.8266 9.57063L16.2329 12.0316C16.2706 12.0957 16.2953 12.1667 16.3054 12.2405C16.3155 12.3142 16.3108 12.3892 16.2917 12.4612C16.2726 12.5331 16.2395 12.6005 16.1941 12.6596C16.1488 12.7186 16.0921 12.768 16.0276 12.805Z"
            fill="black"
          />
        </svg>
        }@else {
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"
            fill="black"
          />
        </svg>
        }
      </button>
    </div>
    <div
      class="border relative focus:outline-0 border-[#e1e4e4] rounded-xl text-mainColor1 font-semibold bg-[#eef3f3] py-4 px-6 text-lg"
    >
      <input
        type="password"
        [type]="passwordFieldType2"
        autocomplete="new-password"
        name="password"
        formControlName="confirmPassword"
        placeholder="Confirm Password"
        class="w-full bg-transparent focus:outline-none"
      />
      <button
        type="button"
        class="absolute p-1.5 rounded-full top-3 right-3"
        (click)="togglePasswordVisibility(1)"
      >
        @if (passwordFieldType2 === 'password' ) {
        <svg
          width="18"
          height="19"
          viewBox="0 0 18 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.0276 12.805C15.9633 12.8416 15.8925 12.8652 15.8191 12.8745C15.7457 12.8837 15.6712 12.8784 15.5999 12.8588C15.5286 12.8392 15.4618 12.8057 15.4035 12.7603C15.3451 12.7149 15.2963 12.6584 15.2597 12.5941L13.9238 10.2597C13.1471 10.7848 12.2904 11.1805 11.3869 11.4311L11.7997 13.9075C11.8118 13.9804 11.8095 14.055 11.7929 14.127C11.7762 14.199 11.7455 14.267 11.7025 14.3272C11.6596 14.3873 11.6052 14.4384 11.5425 14.4775C11.4797 14.5166 11.4099 14.543 11.337 14.5551C11.307 14.56 11.2767 14.5626 11.2463 14.5628C11.1132 14.5626 10.9845 14.5152 10.8831 14.4291C10.7817 14.343 10.714 14.2237 10.6922 14.0924L10.2865 11.661C9.43097 11.7801 8.56304 11.7801 7.70747 11.661L7.30177 14.0924C7.27994 14.2239 7.21211 14.3434 7.11038 14.4296C7.00864 14.5157 6.87961 14.563 6.7463 14.5628C6.71521 14.5627 6.68418 14.5601 6.65349 14.5551C6.58057 14.543 6.51076 14.5166 6.44804 14.4775C6.38532 14.4384 6.33092 14.3873 6.28795 14.3272C6.24499 14.267 6.21429 14.199 6.19763 14.127C6.18096 14.055 6.17866 13.9804 6.19083 13.9075L6.60568 11.4311C5.7026 11.1797 4.84632 10.7833 4.07021 10.2576L2.73849 12.5941C2.70156 12.6584 2.65231 12.7149 2.59355 12.7602C2.5348 12.8055 2.4677 12.8388 2.39608 12.8582C2.32445 12.8776 2.24971 12.8827 2.17612 12.8732C2.10252 12.8637 2.03152 12.8398 1.96716 12.8029C1.9028 12.766 1.84635 12.7167 1.80103 12.658C1.7557 12.5992 1.72239 12.5321 1.703 12.4605C1.68361 12.3889 1.67851 12.3141 1.68801 12.2405C1.6975 12.1669 1.7214 12.0959 1.75833 12.0316L3.16458 9.57063C2.67064 9.14389 2.21643 8.67321 1.80755 8.16438C1.75656 8.10745 1.71771 8.04072 1.69336 7.96827C1.66902 7.89582 1.65969 7.81917 1.66595 7.743C1.67222 7.66683 1.69394 7.59273 1.72979 7.52523C1.76565 7.45773 1.81488 7.39825 1.87449 7.35041C1.93409 7.30257 2.00282 7.26738 2.07648 7.24699C2.15014 7.2266 2.22718 7.22143 2.30291 7.2318C2.37863 7.24218 2.45144 7.26787 2.5169 7.30732C2.58237 7.34677 2.6391 7.39915 2.68365 7.46126C3.85083 8.90547 5.89271 10.6253 8.9963 10.6253C12.0999 10.6253 14.1418 8.90336 15.309 7.46126C15.353 7.39788 15.4096 7.34424 15.4753 7.30368C15.5409 7.26312 15.6142 7.2365 15.6906 7.22549C15.767 7.21447 15.8448 7.21929 15.9193 7.23965C15.9937 7.26 16.0632 7.29546 16.1233 7.34381C16.1835 7.39217 16.233 7.45238 16.2689 7.52071C16.3048 7.58903 16.3262 7.66401 16.3319 7.74098C16.3375 7.81795 16.3273 7.89526 16.3018 7.9681C16.2763 8.04094 16.2361 8.10775 16.1836 8.16438C15.7748 8.67321 15.3206 9.14389 14.8266 9.57063L16.2329 12.0316C16.2706 12.0957 16.2953 12.1667 16.3054 12.2405C16.3155 12.3142 16.3108 12.3892 16.2917 12.4612C16.2726 12.5331 16.2395 12.6005 16.1941 12.6596C16.1488 12.7186 16.0921 12.768 16.0276 12.805Z"
            fill="black"
          />
        </svg>
        }@else {
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"
            fill="black"
          />
        </svg>
        }
      </button>
    </div>
    <div class="flex flex-col items-center justify-center">
      @if (password?.errors?.['minlength'] && password?.touched) {
      <small class="block font-bold text-center text-red-500">
        Password must be at least 6 characters long.
      </small>
      } @if (passwordForm.errors?.['passwordMismatch'] &&
      confirmPassword?.touched) {
      <small class="block font-bold text-center text-red-500">
        Passwords do not match.
      </small>
      }
    </div>
    <button
      class="flex items-center self-center justify-center py-2 mt-5 text-lg font-bold text-center text-white w-fit bg-mainColor1 px-14 rounded-xl"
      type="submit"
    >
      @if (isLoading) {
      <div class="flex items-center justify-center w-full bg-opacity-60">
        <div class="flex items-center justify-center">
          <div
            class="border-4 border-blue-600 border-dashed rounded-full w-7 h-7 animate-spin"
          ></div>
        </div>
      </div>
      } @else { Save }
    </button>
  </form>
</div>
