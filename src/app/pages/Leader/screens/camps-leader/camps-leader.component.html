<div class="relative w-full p-4 space-y-4 sm:p-6 sm:ps-4 sm:space-y-6">
  <div class="flex items-center justify-between px-12 py-8 bg-white rounded-xl">
    <h2 class="text-2xl font-bold">Camps</h2>
    <div class="flex items-center justify-between px-2">
      <button
        (click)="goToActionCamp(0)"
        class="flex items-center px-8 py-1 text-lg text-white rounded-md w-fit bg-activeLink"
      >
        Add
      </button>
    </div>
  </div>

  @if( isLoading()) {
  <div class="fixed z-50 top-[40%] lg:left-[50%] left-[40%] bg-opacity-60">
    <div class="flex items-center">
      <div
        class="w-16 h-16 border-8 border-blue-600 border-dashed rounded-full animate-spin"
      ></div>
    </div>
  </div>
  } @else {
  <table class="min-w-full text-center">
    <thead>
      <tr class="bg-transparent text-[#6B7088] text-lg">
        <th class="px-4 py-2 text-left">Name</th>
        <th class="px-4 py-2">Start Date</th>
        <th class="px-4 py-2">End Date</th>
        <th class="px-4 py-2">Term</th>
        <th class="px-4 py-2">Duration in week</th>
        <th class="px-4 py-2">Edit</th>
        <th class="px-4 py-2">Empty</th>
        <th class="px-4 py-2">Delete</th>
        <th class="px-4 py-2">Standing</th>
      </tr>
    </thead>

    <tbody>
      @for (item of allCampsInfo.data; track $index) {
      <tr
        class="my-6 bg-white text-[#6B7088] text-center text-base font-medium rounded-lg"
      >
        <td class="px-4 py-2 text-left rounded-s-lg">{{ item.name }}</td>
        <td class="px-4 py-2">{{ item.startDate }}</td>
        <td class="px-4 py-2">{{ item.endDate }}</td>
        <td class="px-4 py-2">
          @switch (item.term) { @case (1) { First term } @case (2) { Second term
          } @case (3) { Summer } @case (4) { Mid year } }
        </td>
        <td class="px-4 py-2">{{ item.durationInWeeks }}</td>
        <td (click)="goToActionCamp(item.id)" class="px-4 py-2 cursor-pointer">
          <svg
            class="flex justify-center w-full hover:fill-green-500 size-5 fill-[#6B7088]"
            viewBox="0 0 32 32 "
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0 29.5385H32V32H0V29.5385ZM26.7429 8.61539C27.6571 7.63077 27.6571 6.15385 26.7429 5.16923L22.6286 0.738462C21.7143 -0.246154 20.3429 -0.246154 19.4286 0.738462L2.28571 19.2V27.0769H9.6L26.7429 8.61539ZM21.0286 2.46154L25.1429 6.89231L21.7143 10.5846L17.6 6.15385L21.0286 2.46154ZM4.57143 24.6154V20.1846L16 7.87692L20.1143 12.3077L8.68571 24.6154H4.57143Z"
            />
            <path
              d="M0 29.5385H32V32H0V29.5385ZM26.7429 8.61539C27.6571 7.63077 27.6571 6.15385 26.7429 5.16923L22.6286 0.738462C21.7143 -0.246154 20.3429 -0.246154 19.4286 0.738462L2.28571 19.2V27.0769H9.6L26.7429 8.61539ZM21.0286 2.46154L25.1429 6.89231L21.7143 10.5846L17.6 6.15385L21.0286 2.46154ZM4.57143 24.6154V20.1846L16 7.87692L20.1143 12.3077L8.68571 24.6154H4.57143Z"
            />
            <path
              d="M0 29.5385H32V32H0V29.5385ZM26.7429 8.61539C27.6571 7.63077 27.6571 6.15385 26.7429 5.16923L22.6286 0.738462C21.7143 -0.246154 20.3429 -0.246154 19.4286 0.738462L2.28571 19.2V27.0769H9.6L26.7429 8.61539ZM21.0286 2.46154L25.1429 6.89231L21.7143 10.5846L17.6 6.15385L21.0286 2.46154ZM4.57143 24.6154V20.1846L16 7.87692L20.1143 12.3077L8.68571 24.6154H4.57143Z"
            />
          </svg>
        </td>
        <td
          (click)="showConfirmEmpty(item.id)"
          class="px-4 py-2 cursor-pointer"
        >
          <svg
            class="flex justify-center w-full hover:fill-yellow-500 size-4 fill-[#6B7088]"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24.6139 4.8361L26.4734 2.79489C26.7674 2.4642 26.919 2.03119 26.8952 1.58975C26.8714 1.14831 26.6741 0.734029 26.3462 0.436712C26.0182 0.139396 25.586 -0.0169882 25.1433 0.00146589C24.7005 0.01992 24.2829 0.211724 23.9809 0.535295L22.1228 2.5737C19.326 0.605751 15.9046 -0.274763 12.5025 0.0978171C9.10036 0.470398 5.95197 2.07039 3.64969 4.59676C1.34741 7.12313 0.0499493 10.4017 0.00141257 13.8157C-0.0471241 17.2296 1.15661 20.5436 3.38615 23.1341L1.52665 25.1753C1.3748 25.338 1.25684 25.5292 1.1796 25.7377C1.10236 25.9463 1.06738 26.168 1.07668 26.3901C1.08598 26.6123 1.13939 26.8303 1.2338 27.0317C1.3282 27.2331 1.46174 27.4138 1.62666 27.5633C1.79159 27.7128 1.98462 27.8282 2.19457 27.9027C2.40452 27.9773 2.62722 28.0095 2.84975 27.9976C3.07229 27.9856 3.29023 27.9297 3.49095 27.8332C3.69167 27.7366 3.87118 27.6012 4.01908 27.4349L5.87717 25.3965C8.67402 27.3644 12.0954 28.245 15.4975 27.8724C18.8996 27.4998 22.048 25.8998 24.3503 23.3734C26.6526 20.8471 27.9501 17.5685 27.9986 14.1545C28.0471 10.7406 26.8434 7.42658 24.6139 4.8361ZM3.33422 13.9851C3.3326 12.0669 3.85122 10.184 4.83512 8.53598C5.81903 6.88794 7.23155 5.53614 8.923 4.62387C10.6145 3.71159 12.5218 3.27282 14.4429 3.35405C16.364 3.43529 18.2273 4.0335 19.8353 5.0853L5.67368 20.6253C4.15735 18.7429 3.33186 16.3999 3.33422 13.9851ZM14 24.6251C11.9261 24.6271 9.89723 24.022 8.1647 22.8849L22.3263 7.34489C23.5828 8.90889 24.3704 10.7953 24.5985 12.7866C24.8266 14.7779 24.4857 16.793 23.6153 18.5994C22.7449 20.4058 21.3804 21.93 19.6791 22.9961C17.9778 24.0623 16.0091 24.627 14 24.6251Z"
            />
          </svg>
        </td>
        <td
          (click)="showConfirmDelete(item.id)"
          class="px-4 py-2 cursor-pointer"
        >
          <svg
            class="flex justify-center w-full hover:fill-red-500 size-5 fill-[#6B7088]"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.0526 4.55V4.9H16.9474V4.55C16.9474 3.80739 16.6368 3.0952 16.0841 2.5701C15.5314 2.045 14.7817 1.75 14 1.75C13.2183 1.75 12.4686 2.045 11.9159 2.5701C11.3632 3.0952 11.0526 3.80739 11.0526 4.55ZM9.21053 4.9V4.55C9.21053 3.34326 9.71513 2.18595 10.6133 1.33266C11.5115 0.479373 12.7298 0 14 0C15.2702 0 16.4885 0.479373 17.3867 1.33266C18.2849 2.18595 18.7895 3.34326 18.7895 4.55V4.9H27.0789C27.3232 4.9 27.5575 4.99219 27.7302 5.15628C27.903 5.32038 28 5.54294 28 5.775C28 6.00706 27.903 6.22962 27.7302 6.39372C27.5575 6.55781 27.3232 6.65 27.0789 6.65H24.9296L23.4559 23.3492C23.3439 24.6173 22.7345 25.7992 21.7485 26.6606C20.7625 27.522 19.4718 28.0001 18.1322 28H9.86779C8.52835 27.9999 7.23783 27.5218 6.25196 26.6604C5.26608 25.799 4.6568 24.6172 4.54484 23.3492L3.07116 6.65H0.921053C0.676774 6.65 0.442501 6.55781 0.26977 6.39372C0.0970392 6.22962 0 6.00706 0 5.775C0 5.54294 0.0970392 5.32038 0.26977 5.15628C0.442501 4.99219 0.676774 4.9 0.921053 4.9H9.21053ZM6.38032 23.2029C6.45366 24.0337 6.85285 24.808 7.49877 25.3723C8.1447 25.9367 8.99022 26.2499 9.86779 26.25H18.1322C19.0099 26.2501 19.8556 25.9369 20.5017 25.3726C21.1478 24.8082 21.5471 24.0338 21.6204 23.2029L23.0808 6.65H4.91916L6.38032 23.2029ZM12.1579 11.375C12.1579 11.2601 12.1341 11.1463 12.0878 11.0402C12.0415 10.934 11.9737 10.8375 11.8881 10.7563C11.8026 10.675 11.7011 10.6106 11.5893 10.5666C11.4776 10.5226 11.3578 10.5 11.2368 10.5C11.1159 10.5 10.9961 10.5226 10.8844 10.5666C10.7726 10.6106 10.6711 10.675 10.5856 10.7563C10.5 10.8375 10.4322 10.934 10.3859 11.0402C10.3396 11.1463 10.3158 11.2601 10.3158 11.375V21.525C10.3158 21.6399 10.3396 21.7537 10.3859 21.8598C10.4322 21.966 10.5 22.0625 10.5856 22.1437C10.6711 22.225 10.7726 22.2894 10.8844 22.3334C10.9961 22.3774 11.1159 22.4 11.2368 22.4C11.3578 22.4 11.4776 22.3774 11.5893 22.3334C11.7011 22.2894 11.8026 22.225 11.8881 22.1437C11.9737 22.0625 12.0415 21.966 12.0878 21.8598C12.1341 21.7537 12.1579 21.6399 12.1579 21.525V11.375ZM16.7632 10.5C17.2716 10.5 17.6842 10.892 17.6842 11.375V21.525C17.6842 21.7571 17.5872 21.9796 17.4144 22.1437C17.2417 22.3078 17.0074 22.4 16.7632 22.4C16.5189 22.4 16.2846 22.3078 16.1119 22.1437C15.9391 21.9796 15.8421 21.7571 15.8421 21.525V11.375C15.8421 10.892 16.2547 10.5 16.7632 10.5Z"
            />
          </svg>
        </td>
        <td
          (click)="goToStandingCamp(item.id)"
          class="px-4 py-2 cursor-pointer rounded-e-lg"
        >
          <svg
            class="flex justify-center w-full size-6"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.67969 14.6933V21.3199C5.67969 23.7466 5.67969 23.7466 7.97302 25.2933L14.2797 28.9333C15.2264 29.4799 16.773 29.4799 17.7197 28.9333L24.0264 25.2933C26.3197 23.7466 26.3197 23.7466 26.3197 21.3199V14.6933C26.3197 12.2666 26.3197 12.2666 24.0264 10.7199L17.7197 7.07992C16.773 6.53326 15.2264 6.53326 14.2797 7.07992L7.97302 10.7199C5.67969 12.2666 5.67969 12.2666 5.67969 14.6933Z"
              stroke="#6B7088"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M23.3346 10.1732V6.6665C23.3346 3.99984 22.0013 2.6665 19.3346 2.6665H12.668C10.0013 2.6665 8.66797 3.99984 8.66797 6.6665V10.0798"
              stroke="#6B7088"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M16.8384 14.6533L17.5984 15.8399C17.7184 16.0266 17.9851 16.2133 18.1851 16.2666L19.5451 16.6133C20.3851 16.8266 20.6117 17.5466 20.0651 18.2133L19.1717 19.2933C19.0384 19.4666 18.9317 19.7733 18.9451 19.9866L19.0251 21.3866C19.0784 22.2533 18.4651 22.6933 17.6651 22.3733L16.3584 21.8533C16.1584 21.7733 15.8251 21.7733 15.6251 21.8533L14.3184 22.3733C13.5184 22.6933 12.9051 22.2399 12.9584 21.3866L13.0384 19.9866C13.0517 19.7733 12.9451 19.4533 12.8117 19.2933L11.9184 18.2133C11.3717 17.5466 11.5984 16.8266 12.4384 16.6133L13.7984 16.2666C14.0117 16.2133 14.2784 16.0133 14.3851 15.8399L15.1451 14.6533C15.6251 13.9333 16.3717 13.9333 16.8384 14.6533Z"
              stroke="#6B7088"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </td>
      </tr>
      }
    </tbody>
  </table>
  } @if (showModal) {
  <app-confirm-camp
    (closeModal)="handleClose($event)"
    [itemId]="selectedItemId"
  />
  } @if (showEmptyModal) {
  <app-empty-camp
    (closeEmptyModal)="handleCloseEmpty($event)"
    [itemId]="selectedEmptyId"
  />
  }
</div>
@if (!isLoading()) {
<div class="relative bottom-0 flex justify-center items-center py-1.5 bg-white">
  <div class="flex items-center justify-center">
    <button
      class="py-2 text-lg font-semibold pe-4 disabled:cursor-not-allowed text-activeLink"
      (click)="previousPage()"
      [disabled]="!allCampsInfo.hasPreviousPage"
    >
      Previous
    </button>
    <div class="flex items-center space-x-2">
      @for (page of getPageRange(); track page; let i = $index) {
      <button
        class="px-3 py-1 font-bold rounded-tr-lg rounded-bl-lg rounded-br-lg text-activeLink"
        (click)="gotoPage(page)"
        [class.bg-[#3d91c7]]="page === allCampsInfo.currentPage"
        [class.text-white]="page === allCampsInfo.currentPage"
      >
        {{ page }}
      </button>
      }
    </div>

    <button
      class="p-2 text-lg font-semibold text-activeLink"
      (click)="nextPage()"
      [disabled]="!allCampsInfo.hasNextPage"
    >
      Next
    </button>
  </div>
</div>
}
