<form [formGroup]="filterForm" (ngSubmit)="saveCustomFilter()">
  <div formArrayName="filters">
    <table class="min-w-full border-collapse">
      <thead>
        <tr>
          <th class="px-6 pt-3 font-medium tracking-wider text-gray-700">
            Sheet ID
          </th>
          <th class="px-3 pt-3 font-medium tracking-wider text-gray-700">
            Community
          </th>
          <th class="px-6 pt-3 font-medium tracking-wider text-gray-700">
            Percentage
          </th>
          <th class="px-4 pt-2"></th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let filter of filters.controls; let i = index"
          [formGroupName]="i"
        >
          <td class="relative px-6 py-3">
            <input
              type="text"
              formControlName="sheetId"
              class="block w-32 pl-10 my-2 text-black bg-white rounded-lg ring-1 ring-gray-400 focus:outline-none focus:ring-activeLink"
            />
            <svg
              width="12"
              height="12"
              class="absolute top-[26px] left-10"
              viewBox="0 0 12 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 5V7.5C11 10 10 11 7.5 11H4.5C2 11 1 10 1 7.5V4.5C1 2 2 1 4.5 1H7"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M11 5H9C7.5 5 7 4.5 7 3V1L11 5Z"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </td>

          <td class="relative px-6 py-3">
            <ng-select
              id="college"
              [closeOnSelect]="true"
              bindLabel="name"
              bindValue="id"
              formControlName="community"
              class="block w-32 h-6 pl-6 my-2 text-black bg-white rounded-lg ring-1 ring-gray-400 focus:outline-none focus:ring-activeLink"
            >
              <ng-option [value]="1">Sohag</ng-option>
              <ng-option [value]="2">Assiut</ng-option>
            </ng-select>
            <svg
              width="12"
              height="12"
              class="absolute top-[26px] left-10"
              viewBox="0 0 12 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4.51 1.42008L1.815 3.52008C1.365 3.87008 1 4.61508 1 5.18008V8.88508C1 10.0451 1.945 10.9951 3.105 10.9951H8.895C10.055 10.9951 11 10.0451 11 8.89008V5.25008C11 4.64508 10.595 3.87008 10.1 3.52508L7.01 1.36008C6.31 0.870081 5.185 0.895081 4.51 1.42008Z"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6 8.99512V7.49512"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </td>

          <td class="relative px-6 py-3">
            <input
              type="number"
              formControlName="passingPrecent"
              class="block w-32 pl-10 my-2 text-black bg-white rounded-lg ring-1 ring-gray-400 focus:outline-none focus:ring-activeLink"
            />
            <svg
              width="12"
              height="12"
              class="absolute top-[26px] left-10"
              viewBox="0 0 12 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4.28516 7.63498L7.55515 4.36499"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M4.49001 5.18507C4.82966 5.18507 5.105 4.90974 5.105 4.57008C5.105 4.23043 4.82966 3.95508 4.49001 3.95508C4.15035 3.95508 3.875 4.23043 3.875 4.57008C3.875 4.90974 4.15035 5.18507 4.49001 5.18507Z"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M7.75952 8.04494C8.09918 8.04494 8.37453 7.76959 8.37453 7.42993C8.37453 7.09028 8.09918 6.81494 7.75952 6.81494C7.41987 6.81494 7.14453 7.09028 7.14453 7.42993C7.14453 7.76959 7.41987 8.04494 7.75952 8.04494Z"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6 11C8.76142 11 11 8.76142 11 6C11 3.23858 8.76142 1 6 1C3.23858 1 1 3.23858 1 6C1 8.76142 3.23858 11 6 11Z"
                stroke="#6B7088"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </td>

          <td class="px-4 py-2">
            <button
              *ngIf="i === filters.length - 1"
              type="button"
              (click)="addFilter()"
              class="px-3 py-1.5 text-white bg-[#52b788] rounded-sm"
            >
              +
            </button>
            <button
              *ngIf="filters.length > 1 && i !== filters.length - 1"
              type="button"
              (click)="removeFilter(i)"
              class="px-3 py-1.5 text-white bg-[#F1585B] rounded-sm"
            >
              -
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <button
    type="submit"
    class="px-5 py-1 mt-4 text-white rounded-lg bg-mainblue ms-4"
  >
    Done
  </button>
</form>
